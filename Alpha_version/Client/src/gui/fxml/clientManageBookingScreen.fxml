<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.StackPane?>

<StackPane styleClass="reservation-root" stylesheets="@../../gui/css/clientNewReservationStyles.css, @../../gui/css/staff/ReservationsPanelStyles.css" 
           xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="gui.logic.ClientManageBookingScreen">

    <children>
        <BorderPane prefHeight="720" prefWidth="1280">

            <top>
                <BorderPane>
                    <padding>
                        <Insets bottom="8" left="28" right="28" top="18" />
                    </padding>
                    <left>
                        <Button fx:id="btnBack" onAction="#btnBack" styleClass="nav-back" text="Back">
                            <graphic>
                                <ImageView fitHeight="16.0" fitWidth="8.0">
                                    <image>
                                        <Image url="@../../resources/icons/backIcon.png" />
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                    </left>
                    <center>
                        <VBox alignment="CENTER" spacing="4">
                            <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white;" text="My Reservations" />
                            <Label style="-fx-text-fill: rgba(255,255,255,0.8);" text="View and manage your upcoming bookings" />
                        </VBox>
                    </center>
                    <right>
                         <VBox prefWidth="60" /> 
                    </right>
                </BorderPane>
            </top>

            <center>
                <VBox spacing="14" style="-fx-background-color: white; -fx-background-radius: 12;" maxWidth="1000">
                    <padding>
                        <Insets bottom="18" left="18" right="18" top="18" />
                    </padding>
                    <BorderPane.margin>
                        <Insets bottom="28" left="28" right="28" top="10" />
                    </BorderPane.margin>

                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="Show from:" style="-fx-font-weight: bold; -fx-text-fill: #333;" />
                        <DatePicker fx:id="dateFilter" prefWidth="160.0" promptText="Select Date" />
                        <Button fx:id="btnRefresh" onAction="#btnRefresh" text="Refresh List">
                             <styleClass>
                                <String fx:value="btn-secondary" /> 
                             </styleClass>
                        </Button>
                        
                        <HBox HBox.hgrow="ALWAYS" /> <Button fx:id="btnNewReservation" onAction="#btnNewReservation" text="+ New Reservation">
                            <styleClass>
                                <String fx:value="btn-primary" />
                            </styleClass>
                        </Button>
                    </HBox>

                    <TableView fx:id="reservationsTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colDate" prefWidth="120" text="Date" />
                            <TableColumn fx:id="colTime" prefWidth="90" text="Time" />
                            <TableColumn fx:id="colConfirm" prefWidth="140" text="Confirmation Code" />
                            <TableColumn fx:id="colDiners" prefWidth="80" text="Diners" />
                            <TableColumn fx:id="colStatus" prefWidth="120" text="Status" />
                            <TableColumn fx:id="colTable" prefWidth="90" text="Table #" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                    
                    <HBox alignment="CENTER_RIGHT" spacing="12">
                        <Label text="Select a row to perform actions" style="-fx-text-fill: #666; -fx-font-style: italic;" />
                        <Button fx:id="btnCancelRes" onAction="#btnCancelRes" style="-fx-background-color: #fee2e2; -fx-text-fill: #ef4444;" text="Cancel Selected Reservation" />
                    </HBox>
                </VBox>
            </center>

            <bottom>
                <BorderPane BorderPane.alignment="CENTER">
                    <left>
                        <HBox alignment="BOTTOM_LEFT">
                            <children>
                                <Label styleClass="footer-label" text="© 2025 Bistro · All rights reserved · v1.0.0" textFill="WHITE" />
                            </children>
                            <padding>
                                <Insets bottom="16" left="24" right="0" top="0" />
                            </padding>
                        </HBox>
                    </left>
                </BorderPane>
            </bottom>

        </BorderPane>
    </children>
</StackPane>